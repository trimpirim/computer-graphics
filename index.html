<html>
  <head>
    <title>My first Three.js app</title>
    <style>
      body { margin: 0; }
    </style>
    <link rel="stylesheet" type="text/css" href="css/second-task.css" />
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="js/lib/jquery-2.1.4.js"></script>
    <script src="js/lib/jquery-ui-1.11.4/jquery-ui.min.js"></script>
    <script src="js/lib/glMatrix-2.2.2.min.js"></script>
    <script src="js/lib/webgl-utils.js"></script>
    <script src="js/lib/shapes-utils.js"></script>
    <script src="js/lib/csg-utils.js"></script>
    <script id="shader-fs" type="x-shader/x-fragment">
      precision highp float;

      uniform mat4 GLNormalMatrix;
      uniform mat4 GLModelViewMatrix;
      uniform mat4 GLProjectionMatrix;
      uniform mat4 GLModelViewProjectionMatrix;
      uniform mat4 GLModelViewMatrixInverse;
      uniform mat4 GLProjectionMatrixInverse;
      uniform mat4 GLModelViewProjectionMatrixInverse;
      uniform float GLPointSize;
      uniform sampler2D GLSampler;

      varying vec4 color;
      varying vec2 textureCoord;
      varying vec3 lighting;

      void main(void) {
        vec4 textureColor = texture2D(GLSampler, textureCoord) * color;
        // gl_FragColor = textureColor;
        gl_FragColor = vec4(textureColor.rgb * lighting, textureColor.a);
      }
    </script>
    <script id="shader-vs" type="x-shader/x-vertex">
      uniform mat4 GLNormalMatrix;
      uniform mat4 GLModelViewMatrix;
      uniform mat4 GLProjectionMatrix;
      uniform mat4 GLModelViewProjectionMatrix;
      uniform mat4 GLModelViewMatrixInverse;
      uniform mat4 GLProjectionMatrixInverse;
      uniform mat4 GLModelViewProjectionMatrixInverse;
      uniform float GLPointSize;

      attribute vec3 GLPosition;
      attribute vec4 GLColor;
      attribute vec2 GLTextureCoord;
      attribute vec3 GLNormal;

      varying vec4 color;
      varying vec2 textureCoord;
      varying vec3 lighting;

      void main(void) {
        gl_PointSize = GLPointSize;
        gl_Position = GLProjectionMatrix * GLModelViewMatrix * vec4(GLPosition, 1.0); 
        color = GLColor;
        textureCoord = GLTextureCoord;

        vec3 ambientColor = vec3(0.6, 0.6, 0.6);
        vec3 directionalColor = vec3(0.8, 0.8, 0.8);
        vec3 lightingDirection = vec3(-0.25, -0.25, -1);

        vec4 transformedNormal = GLNormalMatrix * vec4(GLNormal, 1.0);
         
        float directionalLighting = max(dot(transformedNormal.xyz, lightingDirection), 0.0);
        lighting = ambientColor + (directionalColor * directionalLighting);
      }
    </script>
  </head>
  <body>
    <canvas id="canvas" style="border: none;" tabindex="0"></canvas>

    <div class="options">
      <ul class="list camera">
        <li class="heading drop-down-toggle-camera" data-to-hide=".drop-down-camera">
          <a href="javascript:void(0);">
            CAMERA
          </a>
        </li>
        <li class="drop-down-camera">
          <span>
            translate
          </span>
          <ul class="inner">
            <li class="translate-x row">
              <span class="direction">
                x
              </span>
              <div id="slider">
              </div>
              <span class="number">
              </span>
            </li>
            <li class="translate-y row">
              <span class="direction">
                y
              </span>
              <div id="slider">
              </div>
              <span class="number">
              </span>
            </li>
            <li class="translate-z row">
              <span class="direction">
                z
              </span>
              <div id="slider">
              </div>
              <span class="number">
              </span>
            </li>
          </ul>
        </li>
        <li class="drop-down-camera">
          <span>
            rotate
          </span>
          <ul class="inner">
            <li class="rotate-x row">
              <span class="direction">
                x
              </span>
              <div id="slider">
              </div>
              <span class="number">
              </span>
            </li>
            <li class="rotate-y row">
              <span class="direction">
                y
              </span>
              <div id="slider">
              </div>
              <span class="number">
              </span>
            </li>
            <li class="rotate-z row">
              <span class="direction">
                z
              </span>
              <div id="slider">
              </div>
              <span class="number">
              </span>
            </li>
          </ul>
        </li>
        <li class="drop-down-camera">
          <span>
            scale
          </span>
          <ul class="inner">
            <li class="scale-x row">
              <span class="direction">
                x
              </span>
              <div id="slider">
              </div>
              <span class="number">
              </span>
            </li>
            <li class="scale-y row">
              <span class="direction">
                y
              </span>
              <div id="slider">
              </div>
              <span class="number">
              </span>
            </li>
            <li class="scale-z row">
              <span class="direction">
                z
              </span>
              <div id="slider">
              </div>
              <span class="number">
              </span>
            </li>
          </ul>
        </li>
      </ul>
      <ul class="list model">
        <li class="heading drop-down-toggle-model" data-to-hide=".drop-down-model">
          <a href="javascript:void(0);">
            MODEL
          </a>
        </li>
        <li class="drop-down-model">
          <span>
            translate
          </span>
          <ul class="inner">
            <li class="translate-x row">
              <span class="direction">
                x
              </span>
              <div id="slider">
              </div>
              <span class="number">
              </span>
            </li>
            <li class="translate-y row">
              <span class="direction">
                y
              </span>
              <div id="slider">
              </div>
              <span class="number">
              </span>
            </li>
            <li class="translate-z row">
              <span class="direction">
                z
              </span>
              <div id="slider">
              </div>
              <span class="number">
              </span>
            </li>
          </ul>
        </li>
        <li class="drop-down-model">
          <span>
            rotate
          </span>
          <ul class="inner">
            <li class="rotate-x row">
              <span class="direction">
                x
              </span>
              <div id="slider">
              </div>
              <span class="number">
              </span>
            </li>
            <li class="rotate-y row">
              <span class="direction">
                y
              </span>
              <div id="slider">
              </div>
              <span class="number">
              </span>
            </li>
            <li class="rotate-z row">
              <span class="direction">
                z
              </span>
              <div id="slider">
              </div>
              <span class="number">
              </span>
            </li>
          </ul>
        </li>
        <li class="drop-down-model">
          <span>
            textures
          </span>
          <ul class="inner texture-choice">
            <li class="bricks row">
              <input type="radio" name="texture" value="images/third-task/bricks.png" id="bricks">
              <label for="bricks">
                bricks
              </label>
            </li>
            <li class="fibonacci row">
              <input type="radio" name="texture" value="images/third-task/fibonacci.jpg" id="fibonacci">
              <label for="fibonacci">
                fibonacci
              </label>
            </li>
          </ul>
        </li>
      </ul>
    </div>

    <script src="js/core.js"></script>
    <script src="js/lib/GL/Vector.js"></script>
    <script src="js/lib/GL/ListObject.js"></script>
    <script src="js/lib/GL/Draggable.js"></script>
    <script src="js/lib/GL/Utils.js"></script>
    <script src="js/lib/GL/MathUtils.js"></script>
    <script src="js/lib/GL/GLWrapper.js"></script>
    <script src="js/lib/GL/Vertices.js"></script>
    <script src="js/lib/GL/Vertex2.js"></script>
    <script src="js/lib/GL/Vertex.js"></script>
    <script src="js/lib/GL/Vertex4.js"></script>
    <script src="js/lib/GL/Buffers.js"></script>
    <script src="js/lib/GL/Axis.js"></script>
    <script src="js/lib/GL/ScaleState.js"></script>
    <script src="js/lib/GL/RotationState.js"></script>
    <script src="js/lib/GL/TranslationState.js"></script>
    <script src="js/lib/GL/Camera.js"></script>
    <script src="js/lib/GL/Indexer.js"></script>
    <script src="js/lib/GL/Buffer.js"></script>
    <script src="js/lib/GL/Matrices.js"></script>
    <script src="js/lib/GL/Object.js"></script>
    <script src="js/lib/GL/Shape.js"></script>
    <script src="js/lib/GL/Color.js"></script>
    <script src="js/lib/GL/Objects.js"></script>
    <script src="js/lib/GL/Shaders.js"></script>
    <script src="js/lib/GL/Textures.js"></script>
    <script src="js/lib/GL/Texture.js"></script>
    <script src="js/lib/GL/Uniforms.js"></script>
    <script src="js/lib/GL/Uniform.js"></script>

    <script src="js/lib/GL/StateObject.js"></script>

    <script src="js/third-task/ThirdTaskObject.js"></script>
    <script src="js/third-task/FirstObject.js"></script>
    <script src="js/third-task/SecondObject.js"></script>
    <script src="js/third-task/ThirdObject.js"></script>
    <script src="js/third-task/ForthObject.js"></script>
    <script src="js/third-task/FifthObject.js"></script>
    <script src="js/third-task/SixthObject.js"></script>
    <script src="js/third-task/SeventhObject.js"></script>
    <script src="js/Run.js"></script>
    <script src="js/third-task/RunThirdTask.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>